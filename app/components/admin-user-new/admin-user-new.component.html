<ng-container *ngIf="formModel">

  <div class="row">
    <div class="col-12">
        <dcf-ui-admin-content-header [headerText]='componentHeader' [subheaderText]='componentSubheader'></dcf-ui-admin-content-header>
        <p *ngIf="responseMessage" class="text-danger m-0 my-3">{{responseMessage}}</p>
    </div>
  </div>


  <form #f="ngForm" novalidate (ngSubmit)="newUser(f.value, f.valid)" id="myForm" name="myForm" class="p-2 mt-2">

        <div class="form-group row">
            <label for="username" class="col-lg-2 col-form-label">nazwa użytkownika</label>
            <div class="col">

                <input type="text" class="form-control" name="username" [(ngModel)]="formModel.username" id="username"
                    required validateUniqueUsername #username="ngModel"
                    placeholder="nazwa użytkownika (wymagana)" tabindex="1" autofocus>

                <small class="text-danger" [hidden]="username.valid || (username.pristine && !f.submitted)">
                    <span *ngIf="username.errors && username.errors.required">Nazwa użytkownika jest wymagana</span>
                    <span *ngIf="username.errors && username.errors.validateUniqueUsername">Istnieje już użytkownik o takiej nazwie.</span>
                </small>
            </div>
        </div>

        <div class="form-group row">
            <label for="password" class="col-lg-2 col-form-label">hasło</label>
            <div class="col">
                <input [(ngModel)]="formModel.password" required #password="ngModel" name="password" type="password" class="form-control" id="password" placeholder="hasło (wymagane)" tabindex="2">
                <small class="text-danger" [hidden]="password.valid || (password.pristine && !f.submitted)">
                    Hasło jest wymagane.
                </small>
    
            </div>
        </div>


        <div class="form-group row">
            <label for="is_active" class="col-lg-2 col-form-label">aktywne?</label>
            <div class="col">
                <select [(ngModel)]="formModel.is_active" name="is_active" class="col-sm-4 col-md-3 col-lg-2 form-control" id="is_active" tabindex="3">
                    <option value="FALSE">NIE</option>
                    <option value="TRUE">TAK</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label for="is_user" class="col-lg-2 col-form-label">użytkownik?</label>
            <div class="col">
                <select [(ngModel)]="formModel.is_user" name="is_user" class="col-sm-4 col-md-3 col-lg-2 form-control" id="is_user" tabindex="4">
                    <option value="FALSE">NIE</option>
                    <option value="TRUE">TAK</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label for="is_admin" class="col-lg-2 col-form-label">administrator?</label>
            <div class="col">
                <select [(ngModel)]="formModel.is_admin" name="is_admin" class="col-sm-4 col-md-3 col-lg-2 form-control" id="is_admin" tabindex="5">
                    <option value='FALSE'>NIE</option>
                    <option value='TRUE'>TAK</option>
                </select>
            </div>
        </div>

        <div class="form-group row">
            <label for="full_name" class="col-lg-2 col-form-label">pełna nazwa</label>
            <div class="col">
                <input [(ngModel)]="formModel.full_name" name="full_name" type="text" class="form-control" id="full_name" placeholder="pełna nazwa" tabindex="6">
            </div>
        </div>

        <div class="form-group row">
            <label for="phone_number" class="col-lg-2 col-form-label">telefon</label>
            <div class="col">
                <input [(ngModel)]="formModel.phone_number" name="phone_number" type="text" class="form-control" id="phone_number" placeholder="telefon" tabindex="7">
            </div>
        </div>
    
        <div class="form-group row">
            <label for="email" class="col-lg-2 col-form-label">email</label>
            <div class="col">
                <input [(ngModel)]="formModel.email_address" #email="ngModel" name="email_address" [pattern]="emailPattern" type="text" class="form-control" id="email" placeholder="adres email" tabindex="8">
                <small class="text-danger" [hidden]="email.valid">
                    Niepoprawny adres email.
                </small>
            </div>
        </div>
    
        <div class="form-group row">
            <label for="additional_info" class="col-lg-2 col-form-label">dodatkowe informacje</label>
            <div class="col">
                <textarea [(ngModel)]="formModel.additional_info" name="additional_info" class="form-control" id="additional_info" rows="3"  tabindex="9"></textarea>
            </div>
        </div>
    



        <div class="form-group row">
            <div class="col-lg-2"></div>
            <div class="col-12 col-lg-10">
                <input type="submit" [disabled]="!f.valid || !isChanged()" value="zatwierdź" [ngClass]="{'app-cursor-pointer': f.valid, 'app-cursor-not-allowed': !f.valid}"  class="btn btn-primary mb-1 col-12 col-md-3 col-lg-2 float-md-right" tabindex="10">
                <input type="button" class="app-cursor-pointer btn btn-danger mb-1 col-12 col-md-3 col-lg-2" (click)="handleCancel()" tabindex="12" value="anuluj">
                <input type="reset" value="resetuj" class="app-cursor-pointer btn btn-outline-secondary mb-1 col-12 col-md-3 col-lg-2" tabindex="11">
            </div>
        </div>

    </form>

</ng-container>
